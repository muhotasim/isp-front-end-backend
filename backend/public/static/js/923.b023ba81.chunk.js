"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[923],{192:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),o=n(9439),s=n(8374),i=n(6106),c=n(914),u=n(1095),l=n(940),p=n(881),d=n(7309),f=n(2791),h=n(7689),v=n(5653),m=n(9085),y=n(3365),Z=n(577),x=n(184);t.default=function(){var e=(0,h.UO)().id,t=(0,f.useRef)(),n=(0,f.useState)(!1),b=(0,o.Z)(n,2),g=b[0],k=b[1],C=(0,h.s0)(),w=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.status=n.status?1:0,k(!0),t.prev=2,!e){t.next=9;break}return t.next=6,(0,v.Vx)(e,n);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,(0,v.Ue)(n);case 11:a=t.sent;case 12:o=a.data,m.Am.success(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),k(!1),setTimeout((function(){C("/users")}),500),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),(0,Z.Z)(t.t0,(function(){k(!1)}));case 21:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e){return t.apply(this,arguments)}}(),j=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var a,o,s,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k(!0),n.prev=1,n.next=4,(0,v.U2)(e);case 4:a=n.sent,o=a.data,t.current.setFieldsValue(o.data),m.Am.success(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),k(!1),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(1),(i=null===n.t0||void 0===n.t0||null===(s=n.t0.response)||void 0===s?void 0:s.data)&&m.Am.error(i.message,{position:"top-right",theme:"dark"}),k(!1);case 16:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}();return(0,f.useEffect)((function(){e&&j()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.Z,{className:"site-page-header",title:"".concat(e?"Update":"Create"," Users")}),(0,x.jsx)(i.Z,{children:(0,x.jsx)(c.Z,{lg:12,md:24,sm:24,xs:24,children:(0,x.jsxs)(u.Z,{className:"animated fadeIn",ref:t,disabled:g,name:"basic",layout:"vertical",onFinish:w,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,x.jsx)(u.Z.Item,{label:"User Name",name:"user_name",rules:[{required:!0,message:"Please input your username"}],children:(0,x.jsx)(l.Z,{})}),(0,x.jsx)(u.Z.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email ",type:"email"}],children:(0,x.jsx)(l.Z,{})}),(0,x.jsx)(u.Z.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please input your phone"}],children:(0,x.jsx)(l.Z,{})}),(0,x.jsx)(u.Z.Item,{label:"Details",name:"details",children:(0,x.jsx)(l.Z.TextArea,{})}),(0,x.jsx)(u.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,x.jsx)(l.Z.Password,{})}),(0,x.jsx)(u.Z.Item,{label:"Status",name:"status",children:(0,x.jsxs)(p.ZP.Group,{children:[(0,x.jsx)(p.ZP,{value:1,children:"Active"}),(0,x.jsx)(p.ZP,{value:0,children:"Inactive"})]})}),(0,x.jsx)(u.Z.Item,{children:(0,x.jsxs)(d.Z,{type:"primary",htmlType:"submit",children:[(0,x.jsx)(y.Z,{size:14})," ",(0,x.jsxs)("span",{style:{paddingLeft:"5px"},children:[" ",e?"Update":"Create"]})]})})]})})})]})}},577:function(e,t,n){var r=n(9085);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("ERR_NETWORK"==e.code)r.Am.error(e.message,{position:"top-right",theme:"dark"});else{var n,a=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;a&&r.Am.error(a.message,{position:"top-right",theme:"dark"})}t&&t()}},5570:function(e,t){t.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},5653:function(e,t,n){n.d(t,{Kz:function(){return l},Od:function(){return h},U2:function(){return d},Ue:function(){return p},Vx:function(){return f},sI:function(){return u},x4:function(){return v}});var r=n(4165),a=n(5861),o=n(1044),s=n(5570),i=n(1070),c="users",u=function(){return new Promise((function(e,t){o.ZP.get(s.Z.apiRoute+"dashboard",{headers:{Authorization:"Bearer "+(0,i.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},l=function(e){var t=e.query,n=void 0===t?{}:t,r=e.perPage,a=void 0===r?20:r,u=e.page,l=void 0===u?1:u,p=e.getCount,d=void 0===p?1:p,f=new URLSearchParams;return Object.keys(n).forEach((function(e){f.append(e,n[e])})),f.append("perPage",a),f.append("page",l),f.append("getCount",d),new Promise((function(e,t){o.ZP.get(s.Z.apiRoute+c+"?"+f.toString(),{headers:{Authorization:"Bearer "+(0,i.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,u,l,p,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_name,a=t.email,u=t.phone,l=t.status,p=t.details,d=t.password,e.next=3,o.ZP.put(s.Z.apiRoute+c,{user_name:n,email:a,phone:u,user_type:"internal",status:l,details:p,password:d},{headers:{Authorization:"Bearer "+(0,i.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get(s.Z.apiRoute+c+"/"+t,{headers:{Authorization:"Bearer "+(0,i.L)(),"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,u,l,p,d,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.user_name,u=n.email,l=n.phone,p=n.status,d=n.details,f=n.password,e.next=3,o.ZP.patch(s.Z.apiRoute+c+"/"+t,{user_name:a,email:u,phone:l,user_type:"internal",status:p,details:d,password:f},{headers:{Authorization:"Bearer "+(0,i.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return new Promise((function(t,n){o.ZP.delete(s.Z.apiRoute+c+"/"+e,{headers:{Authorization:"Bearer "+(0,i.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},v=function(e){var t=e.username,n=e.password;return new Promise((function(e,r){o.ZP.post(s.Z.apiRoute+"login",{username:t,password:n},{headers:{"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){r(e)}))}))}},1070:function(e,t,n){n.d(t,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}},7557:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(2791),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},s=n(4291),i=function(e,t){return a.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};i.displayName="CheckCircleFilled";var c=a.forwardRef(i)},187:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(2791),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},s=n(4291),i=function(e,t){return a.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};i.displayName="ExclamationCircleFilled";var c=a.forwardRef(i)},9019:function(e,t,n){function r(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}n.d(t,{Z:function(){return r}})},881:function(e,t,n){n.d(t,{ZP:function(){return F}});var r=n(7462),a=n(4942),o=n(9439),s=n(1694),i=n.n(s),c=n(5179),u=n(2791),l=n(1929),p=n(1815),d=n(9019),f=u.createContext(null),h=f.Provider,v=f,m=u.createContext(null),y=m.Provider,Z=n(8083),x=n(8834),b=n(9125),g=n(1940),k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},C=function(e,t){var n,o=u.useContext(v),s=u.useContext(m),c=u.useContext(l.E_),p=c.getPrefixCls,d=c.direction,f=u.useRef(),h=(0,x.sQ)(t,f),y=(0,u.useContext)(g.aM).isFormItemInput,C=e.prefixCls,w=e.className,j=e.children,P=e.style,O=e.disabled,E=k(e,["prefixCls","className","children","style","disabled"]),I=p("radio",C),R="button"===((null===o||void 0===o?void 0:o.optionType)||s)?"".concat(I,"-button"):I,F=(0,r.Z)({},E),N=u.useContext(b.Z);F.disabled=O||N,o&&(F.name=o.name,F.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===o||void 0===o?void 0:o.onChange)||void 0===r||r.call(o,t)},F.checked=e.value===o.value,F.disabled=F.disabled||o.disabled);var z=i()("".concat(R,"-wrapper"),(n={},(0,a.Z)(n,"".concat(R,"-wrapper-checked"),F.checked),(0,a.Z)(n,"".concat(R,"-wrapper-disabled"),F.disabled),(0,a.Z)(n,"".concat(R,"-wrapper-rtl"),"rtl"===d),(0,a.Z)(n,"".concat(R,"-wrapper-in-form-item"),y),n),w);return u.createElement("label",{className:z,style:P,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},u.createElement(Z.Z,(0,r.Z)({},F,{type:"radio",prefixCls:R,ref:h})),void 0!==j?u.createElement("span",null,j):null)};var w=u.forwardRef(C),j=u.forwardRef((function(e,t){var n,s=u.useContext(l.E_),f=s.getPrefixCls,v=s.direction,m=u.useContext(p.Z),y=(0,c.Z)(e.defaultValue,{value:e.value}),Z=(0,o.Z)(y,2),x=Z[0],b=Z[1],g=e.prefixCls,k=e.className,C=void 0===k?"":k,j=e.options,P=e.buttonStyle,O=void 0===P?"outline":P,E=e.disabled,I=e.children,R=e.size,F=e.style,N=e.id,z=e.onMouseEnter,S=e.onMouseLeave,T=e.onFocus,B=e.onBlur,L=f("radio",g),_="".concat(L,"-group"),A=I;j&&j.length>0&&(A=j.map((function(e){return"string"===typeof e||"number"===typeof e?u.createElement(w,{key:e.toString(),prefixCls:L,disabled:E,value:e,checked:x===e},e):u.createElement(w,{key:"radio-group-value-options-".concat(e.value),prefixCls:L,disabled:e.disabled||E,value:e.value,checked:x===e.value,style:e.style},e.label)})));var K=R||m,U=i()(_,"".concat(_,"-").concat(O),(n={},(0,a.Z)(n,"".concat(_,"-").concat(K),K),(0,a.Z)(n,"".concat(_,"-rtl"),"rtl"===v),n),C);return u.createElement("div",(0,r.Z)({},(0,d.Z)(e),{className:U,style:F,onMouseEnter:z,onMouseLeave:S,onFocus:T,onBlur:B,id:N,ref:t}),u.createElement(h,{value:{onChange:function(t){var n=x,r=t.target.value;"value"in e||b(r);var a=e.onChange;a&&r!==n&&a(t)},value:x,disabled:e.disabled,name:e.name,optionType:e.optionType}},A))})),P=u.memo(j),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},E=function(e,t){var n=u.useContext(l.E_).getPrefixCls,a=e.prefixCls,o=O(e,["prefixCls"]),s=n("radio",a);return u.createElement(y,{value:"button"},u.createElement(w,(0,r.Z)({prefixCls:s},o,{type:"radio",ref:t})))},I=u.forwardRef(E),R=w;R.Button=I,R.Group=P,R.__ANT_RADIO=!0;var F=R},8083:function(e,t,n){var r=n(7462),a=n(4942),o=n(4925),s=n(1413),i=n(5671),c=n(3144),u=n(136),l=n(7277),p=n(2791),d=n(1694),f=n.n(d),h=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,a=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:(0,s.Z)((0,s.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return(0,c.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,s=t.className,i=t.style,c=t.name,u=t.id,l=t.type,d=t.disabled,h=t.readOnly,v=t.tabIndex,m=t.onClick,y=t.onFocus,Z=t.onBlur,x=t.onKeyDown,b=t.onKeyPress,g=t.onKeyUp,k=t.autoFocus,C=t.value,w=t.required,j=(0,o.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),P=Object.keys(j).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=j[t]),e}),{}),O=this.state.checked,E=f()(n,s,(e={},(0,a.Z)(e,"".concat(n,"-checked"),O),(0,a.Z)(e,"".concat(n,"-disabled"),d),e));return p.createElement("span",{className:E,style:i},p.createElement("input",(0,r.Z)({name:c,id:u,type:l,required:w,readOnly:h,disabled:d,tabIndex:v,className:"".concat(n,"-input"),checked:!!O,onClick:m,onFocus:y,onBlur:Z,onKeyUp:g,onKeyDown:x,onKeyPress:b,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:C},P)),p.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,s.Z)((0,s.Z)({},t),{},{checked:e.checked}):null}}]),n}(p.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.Z=h},3365:function(e,t,n){var r=n(2791),a=n(2007),o=n.n(a);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,o=e.size,c=void 0===o?24:o,u=i(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),r.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),r.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),r.createElement("polyline",{points:"7 3 7 8 15 8"}))}));c.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},c.displayName="Save",t.Z=c}}]);
//# sourceMappingURL=923.b023ba81.chunk.js.map