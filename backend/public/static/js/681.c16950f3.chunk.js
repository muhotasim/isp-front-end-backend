"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[681],{4681:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(4165),a=n(5861),i=n(9439),o=n(8374),s=n(6106),u=n(914),l=n(1095),c=n(940),p=n(3734),d=n(7309),f=n(881),h=n(5595),v=n(2791),m=n(7689),x=n(8177),y=n(9085),g=n(3365),Z=n(5282),j=n.n(Z),b=n(577),k=(n(2144),n(1413)),w=n(3433),P=n(9553),C=n(7970),S=n(8206),O=n(8130),z=n(1469),A=n(5570),L=n(184),R=P.Z.Dragger,B=c.Z.Search,T=function(e){var t=e.onSelect,n=(0,v.useState)([]),l=(0,i.Z)(n,2),c=l[0],p=l[1],f=(0,v.useState)(!1),h=(0,i.Z)(f,2),m=(h[0],h[1]),x=(0,v.useState)(10),g=(0,i.Z)(x,2),Z=g[0],j=(g[1],(0,v.useState)(0)),P=(0,i.Z)(j,2),T=P[0],E=P[1],I=(0,v.useState)(1),_=(0,i.Z)(I,2),F=_[0],U=_[1],N=(0,v.useState)(""),V=(0,i.Z)(N,2),q=V[0],W=V[1],D=(0,v.useState)(),K=(0,i.Z)(D,2),M=K[0],G=K[1],J=(0,v.useState)(null),H=(0,i.Z)(J,2),Q=H[0],X=H[1],Y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,i,o,s,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=!(u.length>1&&void 0!==u[1])||u[1],m(!0),e.prev=3,e.next=6,(0,C.Kz)({perPage:Z,page:F,query:t});case 6:a=e.sent,i=a.data,y.Am.info(null===c||void 0===c?void 0:c.message,{position:"top-right",theme:"dark"}),n?(E(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.count),p(null===i||void 0===i?void 0:i.data.data)):(E(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.count),p([].concat((0,w.Z)(c),(0,w.Z)(null===i||void 0===i?void 0:i.data.data)))),m(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),(0,b.Z)(e.t0,(function(){return m(!1)}));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),$={multiple:!0,beforeUpload:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.size>2072576)){e.next=3;break}return y.Am.warning("File must be under 2 MB",{position:"top-right",theme:"dark"}),e.abrupt("return");case 3:return G(!0),e.prev=4,e.next=7,(0,C.Ue)({file:t});case 7:n=e.sent,a=n.data,y.Am.success(null===a||void 0===a?void 0:a.message,{position:"top-right",theme:"dark"}),G(!1),Y(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),(0,b.Z)(e.t0,(function(){return G(!1)}));case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,v.useEffect)((function(){Y()}),[]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(o.Z,{className:"site-page-header",title:"Files"}),(0,L.jsx)("div",{style:{marginBottom:"25px"},children:(0,L.jsxs)(R,(0,k.Z)((0,k.Z)({},$),{},{disabled:M,showUploadList:!1,children:[(0,L.jsx)("p",{className:"ant-upload-drag-icon",children:(0,L.jsx)(S.Z,{})}),(0,L.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,L.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))}),(0,L.jsx)(d.Z,{type:"primary",style:{float:"right"},onClick:function(){t(Q)},children:"Select"}),(0,L.jsxs)("div",{className:"search-box",children:[(0,L.jsx)(B,{placeholder:"Search...",size:"default",value:q,onChange:function(e){W(e.target.value)},style:{maxWidth:"200px",marginBottom:"20px"},onSearch:function(){Y({type:q,name:q})}}),(0,L.jsx)(d.Z,{style:{width:"35px",padding:"0px"},onClick:function(){W(""),Y({type:q,name:q})},children:(0,L.jsx)(O.Z,{size:14,color:"#949494"})})]}),(0,L.jsxs)("div",{className:"files-container",style:{height:"250px",overflow:"auto"},children:[(0,L.jsx)(s.Z,{children:c.map((function(e,t){var n=A.Z.host+e.uri.split(".").join("128x128.");return(0,L.jsxs)(u.Z,{span:6,children:[(0,L.jsx)("input",{type:"radio",name:"sl-file",checked:(null===e||void 0===e?void 0:e.id)==(null===Q||void 0===Q?void 0:Q.id),onClick:function(){X(e)}}),(0,L.jsx)("img",{style:{maxWidth:"80px",padding:"5px",border:"1px solid lightgray",margin:"5px"},src:n})]},t)}))}),(0,L.jsx)("div",{style:{textAlign:"center"},children:T>c.length&&(0,L.jsxs)(d.Z,{type:"primary",onClick:function(){U(F+1),Y({type:q,name:q},!1)},children:[(0,L.jsx)(z.Z,{size:14})," Load More"]})})]})]})},E=[{label:"Slider",value:"slider"},{value:"post",label:"Post"},{value:"package",label:"Package"},{value:"client",label:"Client"}],I=function(){var e,t=(0,m.UO)().id,n=(0,v.useRef)(),Z=(0,v.useRef)(null),k=(0,v.useState)(!1),w=(0,i.Z)(k,2),P=w[0],C=w[1],S=(0,v.useState)("post"),O=(0,i.Z)(S,2),z=O[0],R=O[1],B=(0,v.useState)(null),I=(0,i.Z)(B,2),_=I[0],F=I[1],U=(0,v.useState)(!1),N=(0,i.Z)(U,2),V=N[0],q=N[1],W=(0,m.s0)(),D=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.status=n.status?1:0,C(!0),e.prev=2,!t){e.next=9;break}return e.next=6,(0,x.Vx)(t,n);case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,(0,x.Ue)(n);case 11:a=e.sent;case 12:i=a.data,y.Am.success(null===i||void 0===i?void 0:i.message,{position:"top-right",theme:"dark"}),C(!1),W("/contents"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),(0,b.Z)(e.t0,(function(){return C(!1)}));case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var a,i,o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,(0,x.U2)(t);case 4:a=e.sent,(i=a.data).data.file_id&&F({uri:i.data.uri,id:i.data.file_id}),n.current.setFieldsValue(i.data),n.current.setFieldValue("type",i.data.type),R(i.data.type),y.Am.success(null===i||void 0===i?void 0:i.message,{position:"top-right",theme:"dark"}),C(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),(s=null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.data)&&y.Am.error(s.message,{position:"top-right",theme:"dark"}),C(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){t&&K()}),[]);var M=_?A.Z.host+(null===_||void 0===_?void 0:_.uri.split(".").join("128x128.")):"";return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(o.Z,{className:"site-page-header",title:"".concat(t?"Update":"Create"," Content")}),(0,L.jsx)(s.Z,{children:(0,L.jsx)(u.Z,{lg:12,md:24,sm:24,xs:24,children:(0,L.jsxs)(l.Z,{className:"animated fadeIn",ref:n,disabled:P,name:"basic",layout:"vertical",onFinish:D,onFinishFailed:function(e){y.Am.warn("Please provide all the information currectly",{position:"top-right",theme:"dark"})},autoComplete:"off",children:[(0,L.jsx)(l.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input your title"}],children:(0,L.jsx)(c.Z,{})}),(0,L.jsxs)(l.Z.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please input your type"}],children:[(0,L.jsx)(p.Z,{style:{width:120},value:z,allowClear:!0,options:E,onChange:function(e){R(e),n.current.setFieldValue("type",e)}}),(0,L.jsx)("p",{style:{fontSize:"10px"},children:"Content type is used for diffrientiate the types of content"})]}),"slider"==z||"post"==z||"package"==z||"client"==z?(0,L.jsx)(l.Z.Item,{label:"Content Body",name:"content_body",children:(0,L.jsx)(j(),{ref:Z,config:{toolbarAdaptive:!1,statusbar:!1,readonly:!1,placeholder:"Start typings..."},tabIndex:1})}):(0,L.jsx)(l.Z.Item,{label:"Content Body",name:"content_body",children:(0,L.jsx)(c.Z.TextArea,{})}),"post"==z||"slider"==z||"package"==z||"client"==z?(0,L.jsxs)(l.Z.Item,{name:"file_id",label:"Feature Image",children:[(0,L.jsx)(c.Z,{value:null!==(e=null===_||void 0===_?void 0:_.id)&&void 0!==e?e:"",type:"hidden"}),(0,L.jsx)(d.Z,{onClick:function(){q(!0)},children:"Select Image"}),(0,L.jsx)("br",{}),(0,L.jsx)("img",{src:M})]}):null,(0,L.jsx)(l.Z.Item,{name:"status",children:(0,L.jsxs)(f.ZP.Group,{children:[(0,L.jsx)(f.ZP,{value:1,children:"Active"}),(0,L.jsx)(f.ZP,{value:0,children:"Inactive"})]})}),(0,L.jsx)(l.Z.Item,{children:(0,L.jsxs)(d.Z,{type:"primary",htmlType:"submit",children:[(0,L.jsx)(g.Z,{size:14})," ",(0,L.jsxs)("span",{style:{paddingLeft:"5px"},children:[" ",t?"Update":"Create"]})]})})]})})}),(0,L.jsx)(h.Z,{open:V,onCancel:function(){q(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},children:V?(0,L.jsx)(T,{onSelect:function(e){F(e),e&&n.current.setFieldValue("file_id",e.id),q(!1)}}):null})]})}},577:function(e,t,n){var r=n(9085);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("ERR_NETWORK"==e.code)r.Am.error(e.message,{position:"top-right",theme:"dark"});else{var n,a=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;a&&r.Am.error(a.message,{position:"top-right",theme:"dark"})}t&&t()}},5570:function(e,t){t.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},8177:function(e,t,n){n.d(t,{Kz:function(){return l},Od:function(){return f},U2:function(){return p},Ue:function(){return c},Vx:function(){return d}});var r=n(4165),a=n(5861),i=n(1044),o=n(5570),s=n(1070),u="content",l=function(e){var t=e.query,n=void 0===t?{}:t,r=e.perPage,a=void 0===r?20:r,l=e.page,c=void 0===l?1:l,p=e.getCount,d=void 0===p?1:p,f=e.exclude,h=void 0===f?[]:f,v=new URLSearchParams;return Object.keys(n).forEach((function(e){v.append(e,n[e])})),v.append("perPage",a),v.append("page",c),v.append("getCount",d),h.length&&v.append("exclude",JSON.stringify(h)),new Promise((function(e,t){i.ZP.get(o.Z.apiRoute+u+"?"+v.toString(),{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,l,c,p,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.type,l=t.caption,c=t.content_body,p=t.status,d=t.file_id,e.next=3,i.ZP.put(o.Z.apiRoute+u,{title:n,type:a,caption:l,content_body:c,status:p,file_id:d},{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get(o.Z.apiRoute+u+"/"+t,{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,l,c,p,d,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.title,l=n.type,c=n.caption,p=n.content_body,d=n.status,f=n.file_id,e.next=3,i.ZP.patch(o.Z.apiRoute+u+"/"+t,{title:a,type:l,caption:c,content_body:p,status:d,file_id:f},{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e){return new Promise((function(t,n){i.ZP.delete(o.Z.apiRoute+u+"/"+e,{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},7970:function(e,t,n){n.d(t,{Kz:function(){return l},Od:function(){return p},Ue:function(){return c}});var r=n(4165),a=n(5861),i=n(1044),o=n(5570),s=n(1070),u="files",l=function(e){var t=e.query,n=void 0===t?{}:t,r=e.perPage,a=void 0===r?20:r,l=e.page,c=void 0===l?1:l,p=e.getCount,d=void 0===p?1:p,f=new URLSearchParams;return Object.keys(n).forEach((function(e){f.append(e,n[e])})),f.append("perPage",a),f.append("page",c),f.append("getCount",d),new Promise((function(e,t){i.ZP.get(o.Z.apiRoute+u+"?"+f.toString(),{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,(a=new FormData).append("type","image"),a.append("file",n),e.next=6,i.ZP.put(o.Z.apiRoute+u,a,{headers:{Authorization:"Bearer "+(0,s.L)()}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return new Promise((function(t,n){i.ZP.delete(o.Z.apiRoute+u+"/"+e,{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},1070:function(e,t,n){n.d(t,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}},1469:function(e,t,n){var r=n(2791),a=n(2007),i=n.n(a);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,i=e.size,u=void 0===i?24:i,l=s(e,["color","size"]);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));u.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},u.displayName="Plus",t.Z=u},8130:function(e,t,n){var r=n(2791),a=n(2007),i=n.n(a);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,i=e.size,u=void 0===i?24:i,l=s(e,["color","size"]);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("polyline",{points:"1 4 1 10 7 10"}),r.createElement("polyline",{points:"23 20 23 14 17 14"}),r.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))}));u.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},u.displayName="RefreshCcw",t.Z=u}}]);
//# sourceMappingURL=681.c16950f3.chunk.js.map