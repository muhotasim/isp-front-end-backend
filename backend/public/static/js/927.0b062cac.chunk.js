"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[927],{5927:function(t,e,n){n.r(e);var r=n(4165),o=n(5861),a=n(9439),i=n(7309),u=n(5595),s=n(8374),c=n(4950),p=n(2791),l=n(9085),d=n(8113),f=n(940),h=n(2428),v=n(8965),m=n(8130),g=n(7689),y=n(577),Z=n(5570),x=n(184),k=f.Z.Search;e.default=function(t){var e=(0,p.useState)([]),n=(0,a.Z)(e,2),f=n[0],w=n[1],_=(0,p.useState)(!1),j=(0,a.Z)(_,2),b=j[0],z=j[1],S=(0,p.useState)(10),O=(0,a.Z)(S,2),C=O[0],P=O[1],A=(0,p.useState)(0),R=(0,a.Z)(A,2),L=R[0],T=R[1],E=(0,p.useState)(1),I=(0,a.Z)(E,2),B=I[0],N=I[1],K=(0,p.useState)(""),U=(0,a.Z)(K,2),W=U[0],q=U[1],M=(0,g.s0)(),F=[{title:"Title",dataIndex:"title",sorter:!0,key:"title"},{title:"Type",dataIndex:"type",sorter:!0,key:"type"},{title:"Permalink",dataIndex:"permalink",sorter:!0,key:"permalink",render:function(t){return(0,x.jsx)("a",{target:"_blank",href:Z.Z.host+"/"+t,children:Z.Z.host+"/"+t})}},{title:"Status",sorter:!0,key:"status",render:function(t){return"".concat(1==t.status?"Active":"Inactive")}},{title:"Actions",dataIndex:"",sorter:!0,width:"90px",key:"x",render:function(t){return(0,x.jsxs)("span",{children:[(0,x.jsx)(i.Z,{onClick:function(){M("/pages/"+t.id)},size:"small",style:{marginRight:"5px"},children:(0,x.jsx)(h.Z,{size:14})}),"user_created"==t.type&&(0,x.jsx)(i.Z,{size:"small",type:"danger",onClick:function(){V(t.id)},children:(0,x.jsx)(v.Z,{size:14})})]})}}],H=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var e,n,o,a=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},z(!0),t.prev=2,t.next=5,(0,d.Kz)({perPage:C,page:B,query:e});case 5:n=t.sent,o=n.data,T(null===o||void 0===o?void 0:o.data.count),l.Am.info(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),w(null===o||void 0===o?void 0:o.data.data),z(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),(0,y.Z)(t.t0,(function(){return z(!1)}));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),V=function(t){u.Z.confirm({title:"Are you sure you want to delete this?",onOk:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.Od)(t);case 3:n=e.sent,o=n.data,T(null===o||void 0===o?void 0:o.data.count),l.Am.error(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),H(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,y.Z)(e.t0,(function(){return z(!1)}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()})};return(0,p.useEffect)((function(){H()}),[C,B]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.Z,{className:"site-page-header",title:"Pages"}),(0,x.jsxs)("div",{className:"search-box",children:[(0,x.jsx)(k,{placeholder:"Search...",size:"default",value:W,onChange:function(t){q(t.target.value)},style:{maxWidth:"200px",marginBottom:"20px"},onSearch:function(){H({title:W,type:W,status:W})}}),(0,x.jsx)(i.Z,{style:{width:"35px",padding:"0px"},onClick:function(){q(""),H()},children:(0,x.jsx)(m.Z,{size:14,color:"#949494"})})]}),(0,x.jsx)(c.Z,{className:"animated fadeIn",dataSource:f,columns:F,loading:b,size:"small",rowKey:function(t){return t.id},pagination:{pageSize:C,current:B,total:L,onShowSizeChange:function(t,e){P(e)},showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(t){N(t)}}})]})}},577:function(t,e,n){var r=n(9085);e.Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("ERR_NETWORK"==t.code)r.Am.error(t.message,{position:"top-right",theme:"dark"});else{var n,o=null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.data;o&&r.Am.error(o.message,{position:"top-right",theme:"dark"})}e&&e()}},5570:function(t,e){e.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},8113:function(t,e,n){n.d(e,{Kz:function(){return c},Od:function(){return f},U2:function(){return l},Ue:function(){return p},Vx:function(){return d}});var r=n(4165),o=n(5861),a=n(1044),i=n(5570),u=n(1070),s="page",c=function(t){var e=t.query,n=void 0===e?{}:e,r=t.perPage,o=void 0===r?20:r,c=t.page,p=void 0===c?1:c,l=t.getCount,d=void 0===l?1:l,f=new URLSearchParams;return Object.keys(n).forEach((function(t){f.append(t,n[t])})),f.append("perPage",o),f.append("page",p),f.append("getCount",d),new Promise((function(t,e){a.ZP.get(i.Z.apiRoute+s+"?"+f.toString(),{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(t){e(t)}))}))},p=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var n,o,c,p,l,d,f,h,v;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,o=e.type,c=e.content_body,p=e.meta_title,l=e.meta_key,d=e.meta_description,f=e.no_follow,h=e.no_index,v=e.status,t.next=3,a.ZP.put(i.Z.apiRoute+s,{title:n,type:o,content_body:c,meta_title:p,meta_key:l,meta_description:d,no_follow:f,no_index:h,status:v},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ZP.get(i.Z.apiRoute+s+"/"+e,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n){var o,c,p,l,d,f,h,v,m;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.title,c=n.type,p=n.content_body,l=n.meta_title,d=n.meta_key,f=n.meta_description,h=n.no_follow,v=n.no_index,m=n.status,t.next=3,a.ZP.patch(i.Z.apiRoute+s+"/"+e,{title:o,type:c,content_body:p,meta_title:l,meta_key:d,meta_description:f,no_follow:h,no_index:v,status:m},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(t){return new Promise((function(e,n){a.ZP.delete(i.Z.apiRoute+s+"/"+t,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){n(t)}))}))}},1070:function(t,e,n){n.d(e,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}},2428:function(t,e,n){var r=n(2791),o=n(2007),a=n.n(o);function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function u(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var s=(0,r.forwardRef)((function(t,e){var n=t.color,o=void 0===n?"currentColor":n,a=t.size,s=void 0===a?24:a,c=u(t,["color","size"]);return r.createElement("svg",i({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));s.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},s.displayName="Edit",e.Z=s}}]);
//# sourceMappingURL=927.0b062cac.chunk.js.map