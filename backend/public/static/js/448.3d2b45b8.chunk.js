"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[448],{8448:function(t,e,n){n.r(e);var r=n(4165),o=n(5861),i=n(9439),a=n(5595),u=n(7309),c=n(8374),s=n(4950),p=n(2791),l=n(9085),f=n(9136),d=n(940),h=n(2428),v=n(8965),Z=n(8130),g=n(7689),m=n(577),y=n(184),x=d.Z.Search;e.default=function(){var t=(0,p.useState)([]),e=(0,i.Z)(t,2),n=e[0],d=e[1],w=(0,p.useState)(!1),k=(0,i.Z)(w,2),j=k[0],z=k[1],P=(0,p.useState)(10),C=(0,i.Z)(P,2),S=C[0],b=C[1],O=(0,p.useState)(0),R=(0,i.Z)(O,2),A=R[0],L=R[1],T=(0,p.useState)(1),B=(0,i.Z)(T,2),E=B[0],_=B[1],I=(0,p.useState)(""),N=(0,i.Z)(I,2),K=N[0],U=N[1],W=(0,g.s0)(),q=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var e,n,o,i=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},z(!0),t.prev=2,t.next=5,(0,f.Kz)({perPage:S,page:E,query:e});case 5:n=t.sent,o=n.data,L(null===o||void 0===o?void 0:o.data.count),l.Am.info(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),d(null===o||void 0===o?void 0:o.data.data),z(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),(0,m.Z)(t.t0,(function(){return z(!1)}));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),F=[{title:"Title",dataIndex:"title",sorter:!0,key:"title"},{title:"Status",sorter:!0,key:"status",render:function(t){return"".concat(1==t.status?"Active":"Inactive")}},{title:"Actions",dataIndex:"",sorter:!0,width:"90px",key:"x",render:function(t){return(0,y.jsxs)("span",{children:[(0,y.jsx)(u.Z,{onClick:function(){W("/sections/"+t.id)},size:"small",style:{marginRight:"5px"},children:(0,y.jsx)(h.Z,{size:14})}),(0,y.jsx)(u.Z,{size:"small",type:"danger",onClick:function(){var e;e=t.id,a.Z.confirm({title:"Are you sure you want to delete this?",onOk:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var n,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.Od)(e);case 3:n=t.sent,o=n.data,L(null===o||void 0===o?void 0:o.data.count),l.Am.error(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),q(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),(0,m.Z)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()})},children:(0,y.jsx)(v.Z,{size:14})})]})}}];return(0,p.useEffect)((function(){q()}),[S,E]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.Z,{className:"site-page-header",title:"Contents"}),(0,y.jsxs)("div",{className:"search-box",children:[(0,y.jsx)(x,{placeholder:"Search...",size:"default",value:K,onChange:function(t){U(t.target.value)},style:{maxWidth:"200px",marginBottom:"20px"},onSearch:function(){q({title:K,type:K,status:K})}}),(0,y.jsx)(u.Z,{style:{width:"35px",padding:"0px"},onClick:function(){U(""),q()},children:(0,y.jsx)(Z.Z,{size:14,color:"#949494"})})]}),(0,y.jsx)(s.Z,{className:"animated fadeIn",dataSource:n,columns:F,loading:j,size:"small",rowKey:function(t){return t.id},pagination:{pageSize:S,current:E,total:A,onShowSizeChange:function(t,e){b(e)},showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(t){_(t)}}})]})}},577:function(t,e,n){var r=n(9085);e.Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("ERR_NETWORK"==t.code)r.Am.error(t.message,{position:"top-right",theme:"dark"});else{var n,o=null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.data;o&&r.Am.error(o.message,{position:"top-right",theme:"dark"})}e&&e()}},5570:function(t,e){e.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},9136:function(t,e,n){n.d(e,{$6:function(){return p},$T:function(){return v},Fo:function(){return f},Kz:function(){return s},Od:function(){return y},U2:function(){return g},Ue:function(){return h},Vx:function(){return m},id:function(){return l},ii:function(){return d},ku:function(){return Z}});var r=n(4165),o=n(5861),i=n(1044),a=n(5570),u=n(1070),c="section",s=function(t){var e=t.query,n=void 0===e?{}:e,r=t.perPage,o=void 0===r?20:r,s=t.page,p=void 0===s?1:s,l=t.getCount,f=void 0===l?1:l,d=new URLSearchParams;return Object.keys(n).forEach((function(t){d.append(t,n[t])})),d.append("perPage",o),d.append("page",p),d.append("getCount",f),new Promise((function(t,e){i.ZP.get(a.Z.apiRoute+c+"?"+d.toString(),{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(t){e(t)}))}))},p=function(){return new Promise((function(t,e){i.ZP.get(a.Z.apiRoute+c+"/all",{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(t){e(t)}))}))},l=function(t){return new Promise((function(e,n){i.ZP.get(a.Z.apiRoute+"section-content?section_id="+t,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},f=function(t){return new Promise((function(e,n){i.ZP.put(a.Z.apiRoute+"section-content/bulk",{contents:JSON.stringify(t)},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},d=function(t){return new Promise((function(e,n){i.ZP.delete(a.Z.apiRoute+"section-content?section_id="+t,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},h=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var n,o,s,p;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,o=e.status,s=e.type,p=e.name,t.next=3,i.ZP.put(a.Z.apiRoute+c,{title:n,status:o,type:s,name:p},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.put(a.Z.apiRoute+"page-section/bulk",{contents:e},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var n,o,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.page_id,o=e.section_id,c=new URLSearchParams,n&&c.append("page_id",n),o&&c.append("section_id",o),t.next=6,i.ZP.delete(a.Z.apiRoute+"page-section?"+c.toString(),{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.get(a.Z.apiRoute+c+"/"+e,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n){var o,s,p,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.title,s=n.status,p=n.type,l=n.name,t.next=3,i.ZP.patch(a.Z.apiRoute+c+"/"+e,{title:o,status:s,type:p,name:l},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(t){return new Promise((function(e,n){i.ZP.delete(a.Z.apiRoute+c+"/"+t,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){n(t)}))}))}},1070:function(t,e,n){n.d(e,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}},2428:function(t,e,n){var r=n(2791),o=n(2007),i=n.n(o);function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}function u(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c=(0,r.forwardRef)((function(t,e){var n=t.color,o=void 0===n?"currentColor":n,i=t.size,c=void 0===i?24:i,s=u(t,["color","size"]);return r.createElement("svg",a({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));c.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},c.displayName="Edit",e.Z=c}}]);
//# sourceMappingURL=448.3d2b45b8.chunk.js.map