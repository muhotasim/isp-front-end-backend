"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[253],{8253:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(3433),i=n(4165),o=n(5861),a=n(9439),s=n(5595),c=n(8374),u=n(785),l=n(6106),p=n(914),d=n(7309),h=n(4970),f=n(2791),v=n(9085),g=n(6459),m=n(1044),x=n(5570),Z=n(1070),j="logs",k=function(e){return(0,g.Z)(e),new Promise((function(e,t){m.ZP.get(x.Z.apiRoute+j,{headers:{Authorization:"Bearer "+(0,Z.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},w=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.ZP.get(x.Z.apiRoute+j+"/"+t,{headers:{Authorization:"Bearer "+(0,Z.L)(),"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(t,n){m.ZP.delete(x.Z.apiRoute+j+"/"+e,{headers:{Authorization:"Bearer "+(0,Z.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},A=n(8206),b=n(8965),z=n(5571),C=n(7689),R=n(184),P=function(e){var t=(0,f.useState)([]),n=(0,a.Z)(t,2),g=n[0],m=n[1],x=(0,f.useState)(!1),Z=(0,a.Z)(x,2),j=(Z[0],Z[1]),P=((0,C.s0)(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,r,o,a=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:{},j(!0),e.prev=2,e.next=5,k({});case 5:t=e.sent,n=t.data,v.Am.success(null===n||void 0===n?void 0:n.message,{position:"top-right",theme:"dark"}),m(null===n||void 0===n?void 0:n.data.data.map((function(e){return{filename:e,log:""}}))),j(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),(o=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data)&&v.Am.error(o.message,{position:"top-right",theme:"dark"}),j(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}()),L=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o,a,s,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,w(n);case 4:r=e.sent,o=r.data,v.Am.success(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),(a=g)[t].log=null===o||void 0===o?void 0:o.data.data,m(a),j(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),(c=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data)&&v.Am.error(c.message,{position:"top-right",theme:"dark"}),j(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){P()}),[]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(c.Z,{className:"site-page-header",title:"Logs"}),0===g.length&&(0,R.jsx)(u.Z,{style:{textAlign:"center",fontSize:"18px"},type:"info",message:(0,R.jsxs)("span",{children:[(0,R.jsx)(A.Z,{size:20})," There is no avilable log file"]})}),(0,R.jsx)(l.Z,{children:(0,R.jsx)(p.Z,{span:12,children:(0,R.jsx)("div",{children:g.map((function(e,t){return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{onClick:function(){L(t,e.filename)},style:{cursor:"pointer",width:"100%",padding:"5px",background:"rgba(0, 0, 0, 0.85)",borderRadius:"3px",color:"white",marginRight:"10px",marginBottom:"15px"},className:"log-file",children:[e.filename,(0,R.jsx)(d.Z,{title:"Remove this log file",style:{float:"right"},type:"danger",size:"small",onClick:function(t){var n;t.stopPropagation(),n=e.filename,s.Z.confirm({title:"Are you sure you want to delete this?",onOk:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n);case 2:t=e.sent,r=t.data,v.Am.success(null===r||void 0===r?void 0:r.message,{position:"top-right",theme:"dark"}),P();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},children:(0,R.jsx)("span",{children:(0,R.jsx)(b.Z,{size:18})})})]},"log-"+t),""!=e.log&&(0,R.jsxs)(h.Z,{children:[(0,R.jsx)(d.Z,{onClick:function(){var e=g;e[t].log="",m((0,r.Z)(e))},size:"small",style:{float:"right"},children:(0,R.jsx)(z.Z,{})}),(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{children:"Details"}),(0,R.jsx)("pre",{children:e.log})]})]},"log-view-"+t)]},t)})}))})})})]})}},5570:function(e,t){t.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},1070:function(e,t,n){n.d(t,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}}}]);
//# sourceMappingURL=253.875f3606.chunk.js.map