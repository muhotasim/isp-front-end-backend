"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[814],{7814:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),o=n(9439),i=n(7309),s=n(5595),u=n(8374),c=n(4950),p=n(2791),l=n(9085),d=n(5653),f=n(940),h=n(2428),v=n(8965),m=n(8130),g=n(7689),Z=n(577),x=n(184),y=f.Z.Search;t.default=function(e){var t=(0,p.useState)([]),n=(0,o.Z)(t,2),f=n[0],w=n[1],k=(0,p.useState)(!1),j=(0,o.Z)(k,2),z=j[0],S=j[1],b=(0,p.useState)(10),C=(0,o.Z)(b,2),P=C[0],O=C[1],R=(0,p.useState)(0),A=(0,o.Z)(R,2),L=A[0],E=A[1],T=(0,p.useState)(1),_=(0,o.Z)(T,2),I=_[0],B=_[1],N=(0,p.useState)(""),K=(0,o.Z)(N,2),U=K[0],W=K[1],q=(0,g.s0)(),M=[{title:"Name",dataIndex:"user_name",sorter:!0,key:"user_name"},{title:"Email",dataIndex:"email",sorter:!0,key:"email"},{title:"Phone",dataIndex:"phone",sorter:!0,key:"phone"},{title:"Status",sorter:!0,key:"status",render:function(e){return"".concat(1==e.status?"Active":"Inactive")}},{title:"Actions",dataIndex:"",sorter:!0,key:"x",width:"90px",render:function(e){return(0,x.jsxs)("span",{children:[(0,x.jsx)(i.Z,{onClick:function(){q("/users/"+e.id)},size:"small",style:{marginRight:"5px"},children:(0,x.jsx)(h.Z,{size:14})}),(0,x.jsx)(i.Z,{size:"small",type:"danger",onClick:function(){H(e.id)},children:(0,x.jsx)(v.Z,{size:14})})]})}}],F=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},S(!0),e.prev=2,e.next=5,(0,d.Kz)({perPage:P,page:I,query:t});case 5:n=e.sent,a=n.data,E(null===a||void 0===a?void 0:a.data.count),l.Am.info(null===a||void 0===a?void 0:a.message,{position:"top-right",theme:"dark"}),w(null===a||void 0===a?void 0:a.data.data),S(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),(0,Z.Z)(e.t0,(function(){return S(!1)}));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),H=function(e){s.Z.confirm({title:"Are you sure you want to delete this?",onOk:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.Od)(e);case 3:n=t.sent,a=n.data,E(null===a||void 0===a?void 0:a.data.count),l.Am.error(null===a||void 0===a?void 0:a.message,{position:"top-right",theme:"dark"}),F(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),(0,Z.Z)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()})};return(0,p.useEffect)((function(){F()}),[P,I]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.Z,{className:"site-page-header",title:"Users"}),(0,x.jsxs)("div",{className:"search-box",children:[(0,x.jsx)(y,{placeholder:"Search...",size:"default",value:U,onChange:function(e){W(e.target.value)},style:{maxWidth:"200px",marginBottom:"20px"},onSearch:function(){F({user_name:U,email:U,phone:U})}}),(0,x.jsx)(i.Z,{style:{width:"35px",padding:"0px"},onClick:function(){W(""),F()},children:(0,x.jsx)(m.Z,{size:14,color:"#949494"})})]}),(0,x.jsx)(c.Z,{className:"animated fadeIn",dataSource:f,columns:M,loading:z,size:"small",rowKey:function(e){return e.id},pagination:{pageSize:P,current:I,total:L,onShowSizeChange:function(e,t){O(t)},showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(e){B(e)}}})]})}},577:function(e,t,n){var r=n(9085);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("ERR_NETWORK"==e.code)r.Am.error(e.message,{position:"top-right",theme:"dark"});else{var n,a=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;a&&r.Am.error(a.message,{position:"top-right",theme:"dark"})}t&&t()}},5570:function(e,t){t.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},5653:function(e,t,n){n.d(t,{Kz:function(){return p},Od:function(){return h},U2:function(){return d},Ue:function(){return l},Vx:function(){return f},sI:function(){return c},x4:function(){return v}});var r=n(4165),a=n(5861),o=n(1044),i=n(5570),s=n(1070),u="users",c=function(){return new Promise((function(e,t){o.ZP.get(i.Z.apiRoute+"dashboard",{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},p=function(e){var t=e.query,n=void 0===t?{}:t,r=e.perPage,a=void 0===r?20:r,c=e.page,p=void 0===c?1:c,l=e.getCount,d=void 0===l?1:l,f=new URLSearchParams;return Object.keys(n).forEach((function(e){f.append(e,n[e])})),f.append("perPage",a),f.append("page",p),f.append("getCount",d),new Promise((function(e,t){o.ZP.get(i.Z.apiRoute+u+"?"+f.toString(),{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,c,p,l,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_name,a=t.email,c=t.phone,p=t.status,l=t.details,d=t.password,e.next=3,o.ZP.put(i.Z.apiRoute+u,{user_name:n,email:a,phone:c,user_type:"internal",status:p,details:l,password:d},{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get(i.Z.apiRoute+u+"/"+t,{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,c,p,l,d,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.user_name,c=n.email,p=n.phone,l=n.status,d=n.details,f=n.password,e.next=3,o.ZP.patch(i.Z.apiRoute+u+"/"+t,{user_name:a,email:c,phone:p,user_type:"internal",status:l,details:d,password:f},{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return new Promise((function(t,n){o.ZP.delete(i.Z.apiRoute+u+"/"+e,{headers:{Authorization:"Bearer "+(0,s.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},v=function(e){var t=e.username,n=e.password;return new Promise((function(e,r){o.ZP.post(i.Z.apiRoute+"login",{username:t,password:n},{headers:{"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){r(e)}))}))}},1070:function(e,t,n){n.d(t,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}},2428:function(e,t,n){var r=n(2791),a=n(2007),o=n.n(a);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,o=e.size,u=void 0===o?24:o,c=s(e,["color","size"]);return r.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));u.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},u.displayName="Edit",t.Z=u}}]);
//# sourceMappingURL=814.188876e5.chunk.js.map