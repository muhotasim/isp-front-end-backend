"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[862],{9862:function(e,t,n){n.r(t);var r=n(4165),o=n(5861),a=n(9439),i=n(5595),u=n(7309),s=n(8374),c=n(3734),l=n(4950),p=n(2791),d=n(9085),f=n(8177),h=n(940),v=n(2428),g=n(8965),y=n(4055),m=n(8130),x=n(7689),Z=n(577),w=n(184);h.Z.Search;t.default=function(){var e=(0,p.useState)([]),t=(0,a.Z)(e,2),n=t[0],b=t[1],k=(0,p.useState)(!1),j=(0,a.Z)(k,2),O=j[0],z=j[1],S=(0,p.useState)(10),C=(0,a.Z)(S,2),P=C[0],A=C[1],E=(0,p.useState)(0),R=(0,a.Z)(E,2),L=R[0],T=R[1],_=(0,p.useState)(1),B=(0,a.Z)(_,2),I=B[0],N=B[1],W=(0,p.useState)(""),K=(0,a.Z)(W,2),U=K[0],q=K[1],M=(0,p.useState)(""),F=(0,a.Z)(M,2),H=F[0],J=F[1],V=(0,x.s0)(),D=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,o,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},z(!0),e.prev=2,e.next=5,(0,f.Kz)({perPage:P,page:I,query:t});case 5:n=e.sent,o=n.data,T(null===o||void 0===o?void 0:o.data.count),d.Am.info(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),b(null===o||void 0===o?void 0:o.data.data),z(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),(0,Z.Z)(e.t0,(function(){return z(!1)}));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),G=[{title:"Title",dataIndex:"title",sorter:!0,key:"title"},{title:"Type",dataIndex:"type",sorter:!0,key:"type"},{title:"Status",sorter:!0,key:"status",render:function(e){return"".concat(1==e.status?"Active":"Inactive")}},{title:"Actions",dataIndex:"",sorter:!0,width:"90px",key:"x",render:function(e){return(0,w.jsxs)("span",{children:[(0,w.jsx)(u.Z,{onClick:function(){V("/contents/"+e.id)},size:"small",style:{marginRight:"5px"},children:(0,w.jsx)(v.Z,{size:14})}),(0,w.jsx)(u.Z,{size:"small",type:"danger",onClick:function(){var t;t=e.id,i.Z.confirm({title:"Are you sure you want to delete this?",onOk:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.Od)(t);case 3:n=e.sent,o=n.data,T(null===o||void 0===o?void 0:o.data.count),d.Am.error(null===o||void 0===o?void 0:o.message,{position:"top-right",theme:"dark"}),D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,Z.Z)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()})},children:(0,w.jsx)(g.Z,{size:14})})]})}}];return(0,p.useEffect)((function(){var e={title:U,status:U};H&&(e.type=H),D(e)}),[P,I]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.Z,{className:"site-page-header",title:"Contents"}),(0,w.jsxs)("div",{className:"search-box",children:[(0,w.jsx)(h.Z,{placeholder:"Search...",size:"default",value:U,onChange:function(e){q(e.target.value)},style:{maxWidth:"200px",marginBottom:"20px"}}),(0,w.jsx)(c.Z,{style:{minWidth:"200px"},options:[{label:"All",value:""},{label:"Slider",value:"slider"},{value:"post",label:"Post"},{value:"package",label:"Package"},{value:"client",label:"Client"}],onChange:function(e){return J(e)},value:H}),(0,w.jsx)(u.Z,{onClick:function(){var e={title:U,status:U};H&&(e.type=H),D(e)},children:(0,w.jsx)(y.Z,{size:14,color:"#949494"})}),(0,w.jsx)(u.Z,{style:{width:"35px",padding:"0px"},onClick:function(){q(""),J(""),D()},children:(0,w.jsx)(m.Z,{size:14,color:"#949494"})})]}),(0,w.jsx)(l.Z,{className:"animated fadeIn",dataSource:n,columns:G,loading:O,size:"small",rowKey:function(e){return e.id},pagination:{pageSize:P,current:I,total:L,onShowSizeChange:function(e,t){A(t)},showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(e){N(e)}}})]})}},577:function(e,t,n){var r=n(9085);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("ERR_NETWORK"==e.code)r.Am.error(e.message,{position:"top-right",theme:"dark"});else{var n,o=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;o&&r.Am.error(o.message,{position:"top-right",theme:"dark"})}t&&t()}},5570:function(e,t){t.Z={apiRoute:"http://localhost:4000/api/v1/",host:"http://localhost:4000"}},8177:function(e,t,n){n.d(t,{Kz:function(){return c},Od:function(){return f},U2:function(){return p},Ue:function(){return l},Vx:function(){return d}});var r=n(4165),o=n(5861),a=n(1044),i=n(5570),u=n(1070),s="content",c=function(e){var t=e.query,n=void 0===t?{}:t,r=e.perPage,o=void 0===r?20:r,c=e.page,l=void 0===c?1:c,p=e.getCount,d=void 0===p?1:p,f=e.exclude,h=void 0===f?[]:f,v=new URLSearchParams;return Object.keys(n).forEach((function(e){v.append(e,n[e])})),v.append("perPage",o),v.append("page",l),v.append("getCount",d),h.length&&v.append("exclude",JSON.stringify(h)),new Promise((function(e,t){a.ZP.get(i.Z.apiRoute+s+"?"+v.toString(),{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o,c,l,p,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,o=t.type,c=t.caption,l=t.content_body,p=t.status,d=t.file_id,e.next=3,a.ZP.put(i.Z.apiRoute+s,{title:n,type:o,caption:c,content_body:l,status:p,file_id:d},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.get(i.Z.apiRoute+s+"/"+t,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,c,l,p,d,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.title,c=n.type,l=n.caption,p=n.content_body,d=n.status,f=n.file_id,e.next=3,a.ZP.patch(i.Z.apiRoute+s+"/"+t,{title:o,type:c,caption:l,content_body:p,status:d,file_id:f},{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e){return new Promise((function(t,n){a.ZP.delete(i.Z.apiRoute+s+"/"+e,{headers:{Authorization:"Bearer "+(0,u.L)(),"Content-Type":"application/json"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},1070:function(e,t,n){n.d(t,{L:function(){return r}});var r=function(){return localStorage.getItem("token")}},2428:function(e,t,n){var r=n(2791),o=n(2007),a=n.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=(0,r.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,a=e.size,s=void 0===a?24:a,c=u(e,["color","size"]);return r.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));s.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},s.displayName="Edit",t.Z=s},4055:function(e,t,n){var r=n(2791),o=n(2007),a=n.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=(0,r.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,a=e.size,s=void 0===a?24:a,c=u(e,["color","size"]);return r.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));s.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},s.displayName="Search",t.Z=s}}]);
//# sourceMappingURL=862.9ca81118.chunk.js.map